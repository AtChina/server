drop table if exists t1,t2;
create table t1(a int, b int, x char(32));
insert into t1 values (2, 10, 'xx');
insert into t1 values (2, 10, 'zz');
insert into t1 values (2, 20, 'yy');
insert into t1 values (3, 10, 'xxx');
insert into t1 values (3, 20, 'vvv');
select a, row_number() over (partition by a order by b) from t1;
a	row_number() over (partition by a order by b)
2	1
2	2
2	3
3	1
3	2
select a, b, x, row_number() over (partition by a order by x) from t1;
a	b	x	row_number() over (partition by a order by x)
2	10	xx	1
2	10	zz	3
2	20	yy	2
3	10	xxx	2
3	20	vvv	1
drop table t1;
create table t1 (pk int primary key, a int, b int);
insert into t1 values 
(1, 10, 22),
(2, 11, 21),
(3, 12, 20),
(4, 13, 19),
(5, 14, 18);
select 
pk, a, b, 
row_number() over (order by a), 
row_number() over (order by b)
from t1;
pk	a	b	row_number() over (order by a)	row_number() over (order by b)
1	10	22	1	5
2	11	21	2	4
3	12	20	3	3
4	13	19	4	2
5	14	18	5	1
drop table t1;
